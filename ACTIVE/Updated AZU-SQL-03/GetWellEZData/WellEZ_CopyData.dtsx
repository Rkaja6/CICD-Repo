<?xml version="1.0" encoding="utf-8"?>
<DTS:Executable DTS:CreationDate="02/23/2022 12:05:35" DTS:CreationName="Microsoft.Package" DTS:CreatorComputerName="HOL-L-9382T83" DTS:CreatorName="rglazebrook" DTS:DTSID="{AD7E47CE-CAF4-4010-BAF1-2C90570A8ED4}" DTS:ExecutableType="Microsoft.Package" DTS:LastModifiedProductVersion="" DTS:LocaleID="1033" DTS:ObjectName="WellEZ_CopyData" DTS:ProtectionLevel="2" DTS:refId="Package" DTS:VersionBuild="0" DTS:VersionGUID="{F66DEA71-BF31-4A5F-AE1D-47E90CACDFEC}" DTS:VersionMajor="0" xmlns:DTS="www.microsoft.com/SqlServer/Dts">
  <DTS:Property DTS:Name="PackageFormatVersion">8</DTS:Property>
  <DTS:ConnectionManagers>
    <DTS:ConnectionManager DTS:CreationName="OLEDB" DTS:DTSID="{629EF5F9-E3B6-46D9-B57C-36497DC5CB03}" DTS:ObjectName="OLEDB_Tell" DTS:refId="Package.ConnectionManagers[OLEDB_Tell]">
      <DTS:ObjectData>
        <DTS:ConnectionManager DTS:ConnectionString="data source=azu-sql-03;initial catalog=Prod_WellEZ;provider=SQLNCLI11.1;integrated security=SSPI;auto translate=False" />
      </DTS:ObjectData>
    </DTS:ConnectionManager>
  </DTS:ConnectionManagers>
  <DTS:Variables>
    <DTS:Variable DTS:CreationName="" DTS:DTSID="{AE2A8C46-D83B-4D87-9937-5F382387A58C}" DTS:IncludeInDebugDump="2345" DTS:Namespace="User" DTS:ObjectName="Directory">
      <DTS:VariableValue DTS:DataType="8">F:\WellEZ\xmlfiles\</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable DTS:CreationName="" DTS:DTSID="{18648495-A93A-4B4E-AA50-DF482ABE95BB}" DTS:IncludeInDebugDump="2345" DTS:Namespace="User" DTS:ObjectName="FullPath">
      <DTS:VariableValue DTS:DataType="8" />
    </DTS:Variable>
  </DTS:Variables>
  <DTS:Executables>
    <DTS:Executable DTS:CreationName="Microsoft.ExecuteSQLTask" DTS:DTSID="{CAD66BA7-B5C6-47F2-A1A8-A2063D46CCCB}" DTS:ExecutableType="Microsoft.ExecuteSQLTask" DTS:LocaleID="-1" DTS:ObjectName="Truncate Stage Table" DTS:refId="Package\Truncate Stage Table" DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2014; © 2014 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:ObjectData>
        <SQLTask:SqlTaskData SQLTask:Connection="OLEDB_Tell" SQLTask:SqlStatementSource="TRUNCATE TABLE [tell].[Stage_XMLFiles]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable DTS:CreationName="STOCK:FOREACHLOOP" DTS:DTSID="{50DBBD80-1CE1-4D64-8672-2A9AB41F953E}" DTS:ExecutableType="STOCK:FOREACHLOOP" DTS:LocaleID="-1" DTS:ObjectName="Loop Through Directory" DTS:refId="Package\Loop Through Directory">
      <DTS:Executables>
        <DTS:Executable DTS:CreationName="Microsoft.ExecuteSQLTask" DTS:DTSID="{36EA699D-F35F-4762-A6F2-BEA7BF0449F1}" DTS:ExecutableType="Microsoft.ExecuteSQLTask" DTS:LocaleID="-1" DTS:ObjectName="Insert Row to Stage Table" DTS:refId="Package\Loop Through Directory\Insert Row to Stage Table" DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2014; © 2014 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
          <DTS:ObjectData>
            <SQLTask:SqlTaskData SQLTask:Connection="OLEDB_Tell" SQLTask:SqlStatementSource="INSERT INTO [tell].[Stage_XMLFiles] (FullPath) VALUES (?)" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
              <SQLTask:ParameterBinding SQLTask:DataType="130" SQLTask:DtsVariableName="User::FullPath" SQLTask:ParameterDirection="Input" SQLTask:ParameterName="0" SQLTask:ParameterSize="-1" />
            </SQLTask:SqlTaskData>
          </DTS:ObjectData>
        </DTS:Executable>
      </DTS:Executables>
      <DTS:ForEachEnumerator DTS:CreationName="Microsoft.ForEachFileEnumerator" DTS:DTSID="{01ECDC1B-6429-47B9-9124-D1FB31580CA4}" DTS:ObjectName="{01ECDC1B-6429-47B9-9124-D1FB31580CA4}">
        <DTS:ObjectData>
          <ForEachFileEnumeratorProperties>
            <FEFEProperty Folder="" />
            <FEFEProperty FileSpec="*.*" />
            <FEFEProperty FileNameRetrievalType="0" />
            <FEFEProperty Recurse="0" />
          </ForEachFileEnumeratorProperties>
        </DTS:ObjectData>
        <DTS:PropertyExpression DTS:Name="Directory">@[User::Directory]</DTS:PropertyExpression>
      </DTS:ForEachEnumerator>
      <DTS:ForEachVariableMappings>
        <DTS:ForEachVariableMapping DTS:CreationName="" DTS:DTSID="{A315CE6F-9DBE-4F50-85E2-47E6C0053467}" DTS:ObjectName="{A315CE6F-9DBE-4F50-85E2-47E6C0053467}" DTS:ValueIndex="0" DTS:VariableName="User::FullPath" />
      </DTS:ForEachVariableMappings>
    </DTS:Executable>
    <DTS:Executable DTS:CreationName="Microsoft.ExecuteSQLTask" DTS:DTSID="{F63C9D44-08DA-4443-9A1A-102A18D95341}" DTS:ExecutableType="Microsoft.ExecuteSQLTask" DTS:LocaleID="-1" DTS:ObjectName="Add New File Paths to XMLFiles Table" DTS:refId="Package\Add New File Paths to XMLFiles Table" DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2014; © 2014 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:ObjectData>
        <SQLTask:SqlTaskData SQLTask:Connection="OLEDB_Tell" SQLTask:SqlStatementSource="-- insert new file names&#xA;INSERT INTO [tell].[XMLFiles]&#xA;(FullPath)&#xA;SELECT a.FullPath&#xA;FROM [tell].[Stage_XMLFiles] a&#xA;LEFT JOIN [tell].[XMLFiles] b&#xA;ON a.FullPath = b.FullPath&#xA;WHERE b.FullPath IS NULL" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable DTS:CreationName="Microsoft.ExecuteSQLTask" DTS:DTSID="{8E2132F8-332C-498F-91B8-4468C5E3F85C}" DTS:ExecutableType="Microsoft.ExecuteSQLTask" DTS:LocaleID="-1" DTS:ObjectName="Run Stored Procedure to Parse XMLFiles" DTS:refId="Package\Run Stored Procedure to Parse XMLFiles" DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2014; © 2014 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:ObjectData>
        <SQLTask:SqlTaskData SQLTask:Connection="OLEDB_Tell" SQLTask:SqlStatementSource="EXECUTE [tell].[sp_UploadXMLFiles]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
  </DTS:Executables>
  <DTS:PrecedenceConstraints>
    <DTS:PrecedenceConstraint DTS:CreationName="" DTS:DTSID="{66D2304F-B6E3-48A6-87E1-B87AF7DB943E}" DTS:From="Package\Truncate Stage Table" DTS:LogicalAnd="True" DTS:ObjectName="Constraint_Truncate Stage Table_To_Loop Through Directory" DTS:refId="Package.PrecedenceConstraints[Constraint_Truncate Stage Table_To_Loop Through Directory]" DTS:To="Package\Loop Through Directory" />
    <DTS:PrecedenceConstraint DTS:CreationName="" DTS:DTSID="{A2487949-4CEB-4389-A08A-BFFDF494A283}" DTS:From="Package\Loop Through Directory" DTS:LogicalAnd="True" DTS:ObjectName="Constraint_Loop Through Directory_To_Add New File Paths to XMLFiles Table" DTS:refId="Package.PrecedenceConstraints[Constraint_Loop Through Directory_To_Add New File Paths to XMLFiles Table]" DTS:To="Package\Add New File Paths to XMLFiles Table" />
    <DTS:PrecedenceConstraint DTS:CreationName="" DTS:DTSID="{E75DAE7F-CD49-4C0C-B490-E9A166F413F4}" DTS:From="Package\Add New File Paths to XMLFiles Table" DTS:LogicalAnd="True" DTS:ObjectName="Constraint_Add New File Paths to XMLFiles Table_To_Run Stored Procedure to Parse XMLFiles" DTS:refId="Package.PrecedenceConstraints[Constraint_Add New File Paths to XMLFiles Table_To_Run Stored Procedure to Parse XMLFiles]" DTS:To="Package\Run Stored Procedure to Parse XMLFiles" />
  </DTS:PrecedenceConstraints>
</DTS:Executable>